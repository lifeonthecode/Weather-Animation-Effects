* {
    margin: 0;
    padding: 0;
    outline: none;
    box-sizing: border-box;
}

:root {
    --sky-top: #87ceeb;
    --sky-bottom:#e6f6ff;
    --hud: rgba(255, 255, 255, .7);
    --hud-text: #0b1220;
    --accent: #4f46e5;
    --wind: 12s;
}

body {
    width: 100%;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background: #0b1220;
    color: #0e1726;
    overflow: hidden;
}

.scene {
    position: relative;
    width: 100dvw;
    height: 100dvh;
    overflow: hidden;
    isolation: isolate;
}

.sky {
    position: absolute;
    inset: 0;
    z-index: 0;
    background: linear-gradient(to bottom, var(--sky-top), var(--sky-bottom));
    transition: background 800ms ease;
}

.hills {
    position: absolute;
    inset: auto 0 0 0;
    height: 40vh;
    z-index: 2;
    pointer-events: none;
    /* background-color: red; */
}
.hills::before,.hills::after {
    content: '';
    position: absolute;
    height: 100%;
    inset: auto 0 0 0;
    background: radial-gradient(120% 120% at 20% 100%, #0f1a2e 0 40% , transparent 41%), radial-gradient(120% 120% at 70% 100%, #0c1628 0 35%, transparent 36%), radial-gradient(130% 100% at 40% 100%, #0a1221 0 45%, transparent 46%);
    opacity: .9;
}

.hills::after {
    filter: blur(2px);
    opacity: .7;
    transform: translateY(8px);
}

.sun {
    position: absolute;
    z-index: 1;
    width: 160px;
    height: 160px;
    border-radius: 50%;
    left: 10%;
    top: 10vh;
    background: radial-gradient(circle at 30% 30%, #fff9c4 0 38% , #ffd54f 39% 60%, #ffb300 61% 100%);
    box-shadow: 0 0 80px 40px rgba(255, 213, 79, .35);
    animation: sunFloat 12s ease-in-out infinite;
    transform-origin: center;
}

@keyframes sunFloat {
    50% {
        transform: translateY(-10px) scale(1.02);
    }
}

.moon {
    position: absolute;
    z-index: 1;
    width: 130px;
    height: 130px;
    border-radius: 50%;
    right: 12%;
    top: 12vh;
    opacity: 0;
    transform: scale(0.9);
    background: radial-gradient(circle at 35% 35% #ffffff 0 40%, #e9edf6 41% 70%, #cfd8e3 71% 100% );
    box-shadow: 0 0 60px 30px rgba(200, 220, 255, .2);
    transition: opacity 600ms ease, transform 600ms ease;
}

.moon::before,.moon::after {
    content: '';
    position: absolute;
    border-radius: 50%;
    background: #e9d3e1;
    opacity: .45;
}
.moon::before {
    width: 28px;
    height: 28px;
    left: 28px;
    top: 40px;
}
.moon::after {
    width: 20px;
    height: 20px;
    left: 70px;
    top: 22px;
}

.stars {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
    opacity: 0;
    transition: opacity 600ms ease;
}
.star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    opacity: .7;
    animation: twinkle 3s infinite ease-in-out;
}

@keyframes twinkle {
    50% {
        opacity: .2;
        transform: scale(.8);
    }
}

.clouds {
    position: absolute;
    inset: 0;
    z-index: 3;
    pointer-events: none;
}

.cloud {
    --size: 180px;
    --y: 12vh;
    --speed: 60s;
    --blur: 0px;
    --alpha: .9;
    position: absolute;
    top: var(--y);
    left: -20%;
    width: var(--size);
    height: calc(var(--size) * .6);
    filter: blur(var(--blur));
    opacity: var(--alpha);
    background: 
        radial-gradient(38% 48% at 35% 58%, #fff 0 96%, transparent 97%),
        radial-gradient(50% 58% at 60% 50%, #fff 0 96%, transparent 97%),
        radial-gradient(42% 52% at 80% 60%, #fff 0 96%, transparent 97%),
        radial-gradient(60% 68% at 50% 80%, #fff 0 96%, transparent 97%)
    ;
    border-radius: 100vmax;
    animation: cloudDrift var(--speed) linear infinite;
}

@keyframes cloudDrift {
    to {
        transform: translateX(140vw);
    }
}

.tree {
    position: absolute;
    bottom: 12vh;
    left: 6vw;
    width: 8px;
    height: 120px;
    background: #2d2a38;
    z-index: 4;
    transform-origin: bottom center;
    animation: sway var(--wind) ease-in-out infinite;
}

.tree::before {
    content: '';
    position: absolute;
    bottom: 90px;
    left: -40px;
    width: 88px;
    height: 88px;
    background: radial-gradient(circle at 50% 60%, #3cd17d 0 60%, #2fb06a 61% 100%);
    border-radius: 50%;
    filter: drop-shadow(0 6px 2px rgba(0, 0, 0, .25));
}

@keyframes sway {
    50% {
        transform: rotate(-2deg);
    }
}

.flash {
    position: absolute;
    inset: 0;
    z-index: 6;
    background: white;
    opacity: 0;
    pointer-events: none;
}

.hud {
    position: absolute;
    left: 50%;
    bottom: 20px;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    z-index: 7;
    backdrop-filter: blur(6px);
    background-color: var(--hud);
    border: 1px solid rgba(255, 255, 255, .6);
    box-shadow: 0 10px 24px rgba(0, 0, 0, .25);
    padding: 10px;
    border-radius: 16px;
}

.hud button {
    appearance: none;
    border: none;
    padding: 10px 14px;
    border-radius: 12px;
    cursor: pointer;
    background-color: white;
    color: var(--hud-text);
    font-weight: 600;
    letter-spacing: .2px;
    transition: transform .12s ease, background .2s ease, color .2s ease, box-shadow .2s ease;
    box-shadow: 0 3px 0 rgba(0, 0, 0, .15);
}

.hud button:hover {
    transform: translateY(-2px);
}

.hud button.active {
    background: var(--accent);
    color: white;
    box-shadow: 0 6px 14px rgba(79, 70, 229, .45);
}

canvas#fx {
    position: absolute;
    inset: 0;
    z-index: 5;
    pointer-events: none;
}

.brand {
    position: absolute;
    top: 12px;
    left: 12px;
    z-index: 7;
    padding: 6px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: .3px;
    color: white;
    background: rgba(0, 0, 0, .25) ;
    backdrop-filter: blur(3px);
}